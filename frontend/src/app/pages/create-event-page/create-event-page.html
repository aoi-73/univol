<div class="min-h-screen bg-neutral-950 text-white p-8">
  <div class="max-w-2xl mx-auto">
    <h2 class="text-3xl font-bold mb-6">Crear Nuevo Evento</h2>
    
    <form [formGroup]="eventForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
      <!-- Título -->
      <div>
        <label class="block mb-2 text-sm font-medium">Título *</label>
        <input 
          formControlName="titulo"
          class="w-full bg-neutral-900 py-2 px-4 rounded-md text-white outline-none border border-neutral-700"
          [class.border-red-500]="f['titulo'].invalid && f['titulo'].touched"
          type="text" 
          placeholder="Título del evento">
        <span *ngIf="f['titulo'].invalid && f['titulo'].touched" class="text-red-500 text-xs mt-1">
          El título es requerido (mínimo 3 caracteres)
        </span>
      </div>

      <!-- Descripción Corta -->
      <div>
        <label class="block mb-2 text-sm font-medium">Descripción Corta *</label>
        <textarea 
          formControlName="descripcion_corta"
          class="w-full bg-neutral-900 py-2 px-4 rounded-md text-white outline-none min-h-[80px] border border-neutral-700"
          [class.border-red-500]="f['descripcion_corta'].invalid && f['descripcion_corta'].touched"
          placeholder="Descripción breve del evento (aparecerá en la lista)"></textarea>
        <span *ngIf="f['descripcion_corta'].invalid && f['descripcion_corta'].touched" class="text-red-500 text-xs mt-1">
          La descripción corta es requerida (mínimo 10 caracteres)
        </span>
      </div>

      <!-- Descripción Completa (opcional) -->
      <div>
        <label class="block mb-2 text-sm font-medium">Descripción Completa (opcional)</label>
        <textarea 
          formControlName="descripcion"
          class="w-full bg-neutral-900 py-2 px-4 rounded-md text-white outline-none min-h-[120px] border border-neutral-700"
          placeholder="Descripción detallada del evento"></textarea>
      </div>

      <!-- Fechas -->
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block mb-2 text-sm font-medium">Fecha y Hora de Inicio *</label>
          <input 
            formControlName="fecha_inicio"
            class="w-full bg-neutral-900 py-2 px-4 rounded-md text-white outline-none border border-neutral-700"
            [class.border-red-500]="f['fecha_inicio'].invalid && f['fecha_inicio'].touched"
            type="datetime-local">
          <span *ngIf="f['fecha_inicio'].invalid && f['fecha_inicio'].touched" class="text-red-500 text-xs mt-1">
            La fecha de inicio es requerida
          </span>
        </div>

        <div>
          <label class="block mb-2 text-sm font-medium">Fecha y Hora de Fin *</label>
          <input 
            formControlName="fecha_fin"
            class="w-full bg-neutral-900 py-2 px-4 rounded-md text-white outline-none border border-neutral-700"
            [class.border-red-500]="f['fecha_fin'].invalid && f['fecha_fin'].touched"
            type="datetime-local">
          <span *ngIf="f['fecha_fin'].invalid && f['fecha_fin'].touched" class="text-red-500 text-xs mt-1">
            La fecha de fin es requerida
          </span>
        </div>
      </div>

      <!-- Ubicación -->
      <div>
        <label class="block mb-2 text-sm font-medium">Ubicación *</label>
        <input 
          formControlName="ubicacion"
          class="w-full bg-neutral-900 py-2 px-4 rounded-md text-white outline-none border border-neutral-700"
          [class.border-red-500]="f['ubicacion'].invalid && f['ubicacion'].touched"
          type="text" 
          placeholder="Ubicación del evento">
        <span *ngIf="f['ubicacion'].invalid && f['ubicacion'].touched" class="text-red-500 text-xs mt-1">
          La ubicación es requerida (mínimo 3 caracteres)
        </span>
      </div>

      <!-- Cupo Máximo (opcional) -->
      <div>
        <label class="block mb-2 text-sm font-medium">Cupo Máximo (opcional)</label>
        <input 
          formControlName="cupo_maximo"
          class="w-full bg-neutral-900 py-2 px-4 rounded-md text-white outline-none border border-neutral-700"
          type="number" 
          min="1"
          placeholder="Número máximo de participantes">
      </div>

      <!-- Imagen del Evento -->
      <div>
        <label class="block mb-2 text-sm font-medium">Imagen del Evento (opcional)</label>
        <div *ngIf="imagePreview" class="mb-3">
          <img [src]="imagePreview" alt="Preview" class="w-full max-w-md h-48 object-cover rounded-md border border-neutral-700">
        </div>
        <input 
          type="file"
          accept="image/*"
          (change)="onImageSelected($event)"
          class="w-full bg-neutral-900 py-2 px-4 rounded-md text-white outline-none border border-neutral-700 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-500 file:text-white hover:file:bg-blue-600">
        <p class="text-xs text-neutral-400 mt-1">Formatos: JPG, PNG, GIF. Máximo 5MB</p>
      </div>

      <div *ngIf="errorMessage" class="rounded-md bg-red-900/50 p-3 border border-red-500">
        <div class="text-sm text-red-200">{{ errorMessage }}</div>
      </div>

      <div class="flex gap-4 mt-4">
        <button 
          type="submit"
          [disabled]="isSubmitting || eventForm.invalid"
          class="bg-blue-500 hover:bg-blue-600 cursor-pointer rounded-md text-white font-bold px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed">
          {{ isSubmitting ? 'Creando...' : 'Crear Evento' }}
        </button>
        <button 
          type="button"
          (click)="router.navigate(['/'])"
          class="bg-neutral-700 hover:bg-neutral-600 cursor-pointer rounded-md text-white font-bold px-6 py-2">
          Cancelar
        </button>
      </div>
    </form>
  </div>
</div>
